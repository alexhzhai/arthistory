<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="styles.css">

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin=""/>

    <script src="points.js"></script>
</head>
<body>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>

<div id="mapid">
<script type="text/javascript">
    var blueIcon = L.icon({
        iconUrl: 'images/dots/blue-dot.svg',
        iconSize: [15, 15],
    });
    var orangeIcon = L.icon({
        iconUrl: 'images/dots/orange-dot.svg',
        iconSize: [15, 15],
    });
    var redIcon = L.icon({
        iconUrl: 'images/dots/red-dot.svg',
        iconSize: [15, 15],
    });
    var greenIcon = L.icon({
        iconUrl: 'images/dots/green-dot.svg',
        iconSize: [15, 15],
    });
    var icons = [blueIcon, orangeIcon, redIcon, greenIcon];

    var mymap = L.map('mapid').setView([22.903585,3.8709499], 3);

	L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox/light-v10',
		tileSize: 512,
		zoomOffset: -1
	}).addTo(mymap);

	for (var i = 0; i < points.length; i++) {
       var pt = points[i];
       var contentArea = pt[0];
       var title = pt[1];
       var place = pt[2];
       var lat = pt[3];
       var long = pt[4];
       var time = pt[5];
       var material = pt[6];
       if (pt[7]!== "-") {
           var cover_address = pt[7];
       }

        var marker = L.marker(new L.LatLng(lat, long), {
           'icon': icons[contentArea-1],
           'title': title,
           'loc': place,
           'time': time,
           'material': material
        });

        popupText = "<b>" + title + "</b><br><b>Location:</b> " + place + "<br><b>Time Period:</b> " + time +  "<br><b>Material:</b> " + material;

        if (pt[7] !== "-") {
            var cover = "<img class='cover-img' src=images/" + cover_address + " height='150vh'/>";
            marker.bindPopup(popupText + "<br><br>" + cover, {className: 'stylePopup'});
        }
        else {
            marker.bindPopup(popupText, {className: 'stylePopup'});
        }
        marker.closePopup();
        marker.addTo(mymap);
   }
</script>
</div>

</body>
</html>